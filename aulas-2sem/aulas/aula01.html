<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aula 01 ‚Äì Revis√£o + API Gateway & Proxy Reverso | FIAP</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/reveal.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/theme/white.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/plugin/highlight/monokai.css">
  <link rel="stylesheet" href="../assets/css/fiap-theme.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="reveal">
    <div class="slides">

      <!-- ==================== SLIDE: CAPA FIAP ==================== -->
      <section class="cover-slide">
        <img src="../assets/img/fiap-logo-graduacao.png" alt="FIAP Gradua√ß√£o" class="fiap-logo-full">
      </section>

      <!-- ==================== SLIDE: T√çTULO DA AULA ==================== -->
      <section class="title-slide">
        <div class="top-bar"></div>
        <img src="../assets/img/fiap-logo-simple.png" alt="FIAP" class="fiap-logo-header">
        <div class="title-card">
          <div class="accent-bar"></div>
          <h1>Sistemas de Informa√ß√£o</h1>
          <h2>Microservice and Web Engineering</h2>
          <h3>Prof. Jos√© Romualdo</h3>
        </div>
        <div class="lesson-bar">AULA 01 ‚Äì Revis√£o + API Gateway & Proxy Reverso</div>
      </section>

      <!-- ==================== SLIDE: AGENDA ==================== -->
      <section class="content-slide">
        <div class="top-bar"></div>
        <img src="../assets/img/fiap-logo-simple.png" alt="FIAP" class="fiap-logo-header">
        <div class="slide-title-area">
          <div class="accent-bar"></div>
          <h2>Agenda</h2>
        </div>

        <table>
          <thead>
            <tr><th>Bloco</th><th>Hor√°rio</th><th>Conte√∫do</th></tr>
          </thead>
          <tbody>
            <tr><td><strong>Bloco 1</strong></td><td>19h30 ‚Äì 21h00</td><td>Revis√£o do 1¬∫ semestre + Introdu√ß√£o a API Gateway</td></tr>
            <tr><td><strong>Intervalo</strong></td><td>21h00 ‚Äì 21h20</td><td>‚òï Pausa</td></tr>
            <tr><td><strong>Bloco 2</strong></td><td>21h20 ‚Äì 22h45</td><td>Proxy Reverso + Exerc√≠cio pr√°tico com Nginx + Quiz</td></tr>
          </tbody>
        </table>

        <div class="slide-footer">
          <div class="footer-bar">01 ‚Äì Revis√£o + API Gateway & Proxy Reverso</div>
          <div class="footer-page">3</div>
        </div>
      </section>

      <!-- ==================== SLIDE: REVIS√ÉO - O QUE VIMOS ==================== -->
      <section class="section-slide">
        <div class="top-bar"></div>
        <img src="../assets/img/fiap-logo-simple.png" alt="FIAP" class="fiap-logo-header">
        <div class="accent-bar"></div>
        <h2>Revis√£o do<br>1¬∫ Semestre</h2>
        <div class="slide-footer"><div class="footer-page">4</div></div>
      </section>

      <!-- ==================== SLIDE: REVIS√ÉO CONTE√öDO ==================== -->
      <section class="content-slide">
        <div class="top-bar"></div>
        <img src="../assets/img/fiap-logo-simple.png" alt="FIAP" class="fiap-logo-header">
        <div class="slide-title-area">
          <div class="accent-bar"></div>
          <h2>O que aprendemos?</h2>
        </div>

        <div class="concept-cards">
          <div class="concept-card">
            <h4>Fundamentos Web</h4>
            <p>HTTP, Cliente-Servidor, DNS, Modelo OSI, Protocolos</p>
          </div>
          <div class="concept-card">
            <h4>REST API</h4>
            <p>Verbos HTTP, Status Codes, JSON/XML/YAML, cURL, Postman</p>
          </div>
          <div class="concept-card">
            <h4>Git & Versionamento</h4>
            <p>Reposit√≥rios, branches, commits, pull requests</p>
          </div>
          <div class="concept-card">
            <h4>Data Contracts</h4>
            <p>OpenAPI/Swagger, documenta√ß√£o de APIs</p>
          </div>
          <div class="concept-card">
            <h4>Padr√£o MVC</h4>
            <p>Model-View-Controller, separa√ß√£o de responsabilidades</p>
          </div>
          <div class="concept-card">
            <h4>Docker</h4>
            <p>Imagens, containers, volumes, redes, Dockerfile</p>
          </div>
        </div>

        <div class="slide-footer">
          <div class="footer-bar">01 ‚Äì Revis√£o + API Gateway & Proxy Reverso</div>
          <div class="footer-page">5</div>
        </div>
      </section>

      <!-- ==================== SLIDE: CRONOGRAMA DO SEMESTRE ==================== -->
      <section class="content-slide">
        <div class="top-bar"></div>
        <img src="../assets/img/fiap-logo-simple.png" alt="FIAP" class="fiap-logo-header">
        <div class="slide-title-area">
          <div class="accent-bar"></div>
          <h2>O que veremos neste semestre?</h2>
        </div>

        <table>
          <thead>
            <tr><th>M√™s</th><th>Temas</th></tr>
          </thead>
          <tbody>
            <tr><td><strong>Fevereiro</strong></td><td>API Gateway, Proxy Reverso, Load Balancer, Rate Limiting</td></tr>
            <tr><td><strong>Mar√ßo</strong></td><td>Padr√µes de Resili√™ncia, Dados em Microsservi√ßos, Testes (Unidade e Integra√ß√£o)</td></tr>
            <tr><td><strong>Abril</strong></td><td>Cache (Redis), Processamento Distribu√≠do (Filas)</td></tr>
            <tr><td><strong>Maio</strong></td><td>Testes de Carga, Testes de Interface</td></tr>
            <tr><td><strong>Junho</strong></td><td>Orquestra√ß√£o (Kubernetes), Nuvem (Azure), CI/CD, IaC</td></tr>
          </tbody>
        </table>

        <div class="callout">
          <p><strong>Checkpoints:</strong> 31/03 (CP I) ¬∑ 28/04 (CP II) ¬∑ 19/05 (CP III) ‚Äî Todos individuais</p>
        </div>

        <div class="slide-footer">
          <div class="footer-bar">01 ‚Äì Revis√£o + API Gateway & Proxy Reverso</div>
          <div class="footer-page">6</div>
        </div>
      </section>

      <!-- ==================== SLIDE: CONTEXTO - POR QUE GATEWAY ==================== -->
      <section class="section-slide">
        <div class="top-bar"></div>
        <img src="../assets/img/fiap-logo-simple.png" alt="FIAP" class="fiap-logo-header">
        <div class="accent-bar"></div>
        <h2>API Gateway &<br>Proxy Reverso</h2>
        <div class="slide-footer"><div class="footer-page">7</div></div>
      </section>

      <!-- ==================== SLIDE: O PROBLEMA ==================== -->
      <section class="content-slide">
        <div class="top-bar"></div>
        <img src="../assets/img/fiap-logo-simple.png" alt="FIAP" class="fiap-logo-header">
        <div class="slide-title-area">
          <div class="accent-bar"></div>
          <h2>O Problema: Comunica√ß√£o Direta</h2>
        </div>

        <p>Em uma arquitetura de microsservi√ßos, o cliente precisa conhecer o endere√ßo de cada servi√ßo individualmente. Isso gera diversos problemas:</p>

        <div class="concept-cards">
          <div class="concept-card">
            <h4>Acoplamento</h4>
            <p>O cliente precisa saber a localiza√ß√£o exata de cada microsservi√ßo</p>
          </div>
          <div class="concept-card">
            <h4>Cross-cutting concerns</h4>
            <p>Autentica√ß√£o, logging e rate limiting precisam ser replicados em cada servi√ßo</p>
          </div>
          <div class="concept-card">
            <h4>Seguran√ßa</h4>
            <p>Cada servi√ßo fica exposto diretamente √† internet</p>
          </div>
          <div class="concept-card">
            <h4>Evolu√ß√£o</h4>
            <p>Mudar a estrutura interna dos servi√ßos impacta diretamente os clientes</p>
          </div>
        </div>

        <div class="slide-footer">
          <div class="footer-bar">01 ‚Äì Revis√£o + API Gateway & Proxy Reverso</div>
          <div class="footer-page">8</div>
        </div>
      </section>

      <!-- ==================== SLIDE: O QUE √â API GATEWAY ==================== -->
      <section class="content-slide">
        <div class="top-bar"></div>
        <img src="../assets/img/fiap-logo-simple.png" alt="FIAP" class="fiap-logo-header">
        <div class="slide-title-area">
          <div class="accent-bar"></div>
          <h2>O que √© um API Gateway?</h2>
        </div>

        <p>O <strong>API Gateway</strong> √© um ponto de entrada √∫nico para todas as requisi√ß√µes dos clientes em uma arquitetura de microsservi√ßos. Ele atua como um intermedi√°rio inteligente entre o mundo externo e os servi√ßos internos.</p>

        <div class="flow-diagram">
          <div class="flow-item">Cliente<br>(Browser/App)</div>
          <div class="flow-arrow">‚Üí</div>
          <div class="flow-item" style="background: var(--fiap-pink);">API Gateway</div>
          <div class="flow-arrow">‚Üí</div>
          <div class="flow-item">Servi√ßo A</div>
          <div class="flow-arrow" style="margin-left:-10px; margin-top:30px;">‚Üò</div>
          <div class="flow-item">Servi√ßo B</div>
        </div>

        <div class="callout">
          <p><strong>Analogia:</strong> O API Gateway funciona como a recep√ß√£o de um hotel ‚Äî o h√≥spede n√£o precisa saber onde fica a cozinha, a lavanderia ou a manuten√ß√£o. Ele fala com a recep√ß√£o e ela direciona o pedido.</p>
        </div>

        <div class="slide-footer">
          <div class="footer-bar">01 ‚Äì Revis√£o + API Gateway & Proxy Reverso</div>
          <div class="footer-page">9</div>
        </div>
      </section>

      <!-- ==================== SLIDE: RESPONSABILIDADES DO GATEWAY ==================== -->
      <section class="content-slide">
        <div class="top-bar"></div>
        <img src="../assets/img/fiap-logo-simple.png" alt="FIAP" class="fiap-logo-header">
        <div class="slide-title-area">
          <div class="accent-bar"></div>
          <h2>Responsabilidades do API Gateway</h2>
        </div>

        <table>
          <thead>
            <tr><th>Responsabilidade</th><th>Descri√ß√£o</th><th>Exemplo</th></tr>
          </thead>
          <tbody>
            <tr><td><strong>Roteamento</strong></td><td>Direciona requisi√ß√µes para o servi√ßo correto</td><td><code>/api/pedidos ‚Üí Servi√ßo de Pedidos</code></td></tr>
            <tr><td><strong>Autentica√ß√£o</strong></td><td>Valida tokens JWT, API Keys</td><td>Verifica o header <code>Authorization</code></td></tr>
            <tr><td><strong>Rate Limiting</strong></td><td>Limita n√∫mero de requisi√ß√µes por cliente</td><td>M√°x. 100 req/min por IP</td></tr>
            <tr><td><strong>Logging</strong></td><td>Registra todas as requisi√ß√µes centralmente</td><td>Request ID, tempo de resposta</td></tr>
            <tr><td><strong>Transforma√ß√£o</strong></td><td>Adapta payloads entre cliente e servi√ßo</td><td>Agrega respostas de m√∫ltiplos servi√ßos</td></tr>
            <tr><td><strong>Cache</strong></td><td>Armazena respostas frequentes</td><td>Cache de cat√°logo de produtos</td></tr>
          </tbody>
        </table>

        <div class="slide-footer">
          <div class="footer-bar">01 ‚Äì Revis√£o + API Gateway & Proxy Reverso</div>
          <div class="footer-page">10</div>
        </div>
      </section>

      <!-- ==================== SLIDE: PROXY REVERSO ==================== -->
      <section class="content-slide">
        <div class="top-bar"></div>
        <img src="../assets/img/fiap-logo-simple.png" alt="FIAP" class="fiap-logo-header">
        <div class="slide-title-area">
          <div class="accent-bar"></div>
          <h2>Proxy Reverso vs Proxy Direto</h2>
        </div>

        <div class="side-by-side">
          <div class="side">
            <h4>Proxy Direto (Forward Proxy)</h4>
            <p>Fica entre o <strong>cliente</strong> e a internet. O cliente sabe que est√° usando um proxy.</p>
            <ul>
              <li>Anonimiza o cliente</li>
              <li>Filtra conte√∫do (firewall corporativo)</li>
              <li>Cache de sa√≠da</li>
            </ul>
            <p><em>Ex.: Proxy corporativo, VPN</em></p>
          </div>
          <div class="side">
            <h4>Proxy Reverso (Reverse Proxy)</h4>
            <p>Fica entre a internet e os <strong>servidores</strong>. O cliente n√£o sabe que existe um proxy.</p>
            <ul>
              <li>Protege os servidores</li>
              <li>Distribui carga (Load Balancing)</li>
              <li>Termina√ß√£o SSL</li>
            </ul>
            <p><em>Ex.: Nginx, Traefik, HAProxy</em></p>
          </div>
        </div>

        <div class="slide-footer">
          <div class="footer-bar">01 ‚Äì Revis√£o + API Gateway & Proxy Reverso</div>
          <div class="footer-page">11</div>
        </div>
      </section>

      <!-- ==================== SLIDE: NGINX ==================== -->
      <section class="content-slide">
        <div class="top-bar"></div>
        <img src="../assets/img/fiap-logo-simple.png" alt="FIAP" class="fiap-logo-header">
        <div class="slide-title-area">
          <div class="accent-bar"></div>
          <h2>Nginx como Proxy Reverso</h2>
        </div>

        <p>O <strong>Nginx</strong> √© um dos servidores web e proxy reverso mais utilizados no mundo. Sua arquitetura orientada a eventos o torna extremamente eficiente para lidar com milhares de conex√µes simult√¢neas.</p>

        <pre><code class="language-nginx"># nginx.conf - Exemplo de Proxy Reverso
upstream api_pedidos {
    server pedidos-service:8080;
}

upstream api_produtos {
    server produtos-service:8081;
}

server {
    listen 80;
    server_name api.meusite.com;

    location /api/pedidos {
        proxy_pass http://api_pedidos;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }

    location /api/produtos {
        proxy_pass http://api_produtos;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}</code></pre>

        <div class="slide-footer">
          <div class="footer-bar">01 ‚Äì Revis√£o + API Gateway & Proxy Reverso</div>
          <div class="footer-page">12</div>
        </div>
      </section>

      <!-- ==================== SLIDE: TRAEFIK ==================== -->
      <section class="content-slide">
        <div class="top-bar"></div>
        <img src="../assets/img/fiap-logo-simple.png" alt="FIAP" class="fiap-logo-header">
        <div class="slide-title-area">
          <div class="accent-bar"></div>
          <h2>Traefik: Proxy Reverso Cloud-Native</h2>
        </div>

        <p>O <strong>Traefik</strong> √© um proxy reverso moderno que se integra nativamente com Docker, Kubernetes e outros orquestradores. Ele descobre servi√ßos automaticamente ‚Äî sem necessidade de configura√ß√£o manual de rotas.</p>

        <div class="side-by-side">
          <div class="side">
            <h4>Vantagens</h4>
            <ul>
              <li>Auto-discovery de servi√ßos via Docker labels</li>
              <li>Certificados SSL autom√°ticos (Let's Encrypt)</li>
              <li>Dashboard de monitoramento integrado</li>
              <li>Middlewares configur√°veis (auth, rate limit, headers)</li>
            </ul>
          </div>
          <div class="side">
            <h4>docker-compose.yml</h4>
            <pre><code class="language-yaml">services:
  traefik:
    image: traefik:v3.0
    ports:
      - "80:80"
      - "8080:8080"
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
    command:
      - "--providers.docker=true"
      - "--api.insecure=true"

  api-pedidos:
    image: minha-api:latest
    labels:
      - "traefik.http.routers.pedidos.rule=PathPrefix(`/api/pedidos`)"</code></pre>
          </div>
        </div>

        <div class="slide-footer">
          <div class="footer-bar">01 ‚Äì Revis√£o + API Gateway & Proxy Reverso</div>
          <div class="footer-page">13</div>
        </div>
      </section>

      <!-- ==================== SLIDE: COMPARA√á√ÉO SOLU√á√ïES ==================== -->
      <section class="content-slide">
        <div class="top-bar"></div>
        <img src="../assets/img/fiap-logo-simple.png" alt="FIAP" class="fiap-logo-header">
        <div class="slide-title-area">
          <div class="accent-bar"></div>
          <h2>Compara√ß√£o: Solu√ß√µes de API Gateway</h2>
        </div>

        <table>
          <thead>
            <tr><th>Solu√ß√£o</th><th>Tipo</th><th>Melhor para</th><th>Destaques</th></tr>
          </thead>
          <tbody>
            <tr><td><strong>Nginx</strong></td><td>Proxy Reverso / LB</td><td>Alta performance, configura√ß√£o manual</td><td>Leve, r√°pido, amplamente adotado</td></tr>
            <tr><td><strong>Traefik</strong></td><td>Proxy Cloud-Native</td><td>Docker / Kubernetes</td><td>Auto-discovery, SSL autom√°tico</td></tr>
            <tr><td><strong>Kong</strong></td><td>API Gateway</td><td>APIs em produ√ß√£o</td><td>Plugins, analytics, portal de dev</td></tr>
            <tr><td><strong>Azure API Management</strong></td><td>Gateway Gerenciado</td><td>Ecossistema Microsoft</td><td>Integra√ß√£o Azure, pol√≠ticas, portal</td></tr>
            <tr><td><strong>Ocelot</strong></td><td>Gateway .NET</td><td>Microsservi√ßos .NET</td><td>Leve, configura√ß√£o via JSON</td></tr>
            <tr><td><strong>Spring Cloud Gateway</strong></td><td>Gateway Java</td><td>Microsservi√ßos Spring</td><td>Reativo, filtros, predicates</td></tr>
          </tbody>
        </table>

        <div class="slide-footer">
          <div class="footer-bar">01 ‚Äì Revis√£o + API Gateway & Proxy Reverso</div>
          <div class="footer-page">14</div>
        </div>
      </section>

      <!-- ==================== SLIDE: CASO REAL ==================== -->
      <section class="content-slide">
        <div class="top-bar"></div>
        <img src="../assets/img/fiap-logo-simple.png" alt="FIAP" class="fiap-logo-header">
        <div class="slide-title-area">
          <div class="accent-bar"></div>
          <h2>Caso Real: Netflix Zuul ‚Üí Spring Cloud Gateway</h2>
        </div>

        <p>A <strong>Netflix</strong> foi pioneira no uso de API Gateways com o <strong>Zuul</strong>, que processava bilh√µes de requisi√ß√µes por dia. Em 2018, migraram para o <strong>Zuul 2</strong> (ass√≠ncrono) e a comunidade Spring criou o <strong>Spring Cloud Gateway</strong> como alternativa reativa.</p>

        <div class="callout">
          <p><strong>Problema real:</strong> Com mais de 1.000 microsservi√ßos, a Netflix precisava de um ponto central para roteamento, autentica√ß√£o, canary deployments e resili√™ncia. Sem um gateway, cada servi√ßo teria que implementar tudo isso individualmente.</p>
        </div>

        <div class="concept-cards">
          <div class="concept-card">
            <h4>Canary Deployment</h4>
            <p>O gateway direciona 5% do tr√°fego para a nova vers√£o antes do rollout completo</p>
          </div>
          <div class="concept-card">
            <h4>A/B Testing</h4>
            <p>Diferentes vers√µes da API servidas para diferentes grupos de usu√°rios</p>
          </div>
        </div>

        <div class="slide-footer">
          <div class="footer-bar">01 ‚Äì Revis√£o + API Gateway & Proxy Reverso</div>
          <div class="footer-page">15</div>
        </div>
      </section>

      <!-- ==================== SLIDE: INTERVALO ==================== -->
      <section class="break-slide">
        <h2>‚òï Intervalo</h2>
        <p>Voltamos √†s 21h20</p>
      </section>

      <!-- ==================== SLIDE: BLOCO 2 - PR√ÅTICA ==================== -->
      <section class="section-slide">
        <div class="top-bar"></div>
        <img src="../assets/img/fiap-logo-simple.png" alt="FIAP" class="fiap-logo-header">
        <div class="accent-bar"></div>
        <h2>Exerc√≠cio Pr√°tico</h2>
        <div class="slide-footer"><div class="footer-page">17</div></div>
      </section>

      <!-- ==================== SLIDE: EXERC√çCIO ==================== -->
      <section class="exercise-slide content-slide">
        <div class="top-bar"></div>
        <img src="../assets/img/fiap-logo-simple.png" alt="FIAP" class="fiap-logo-header">
        <div class="slide-title-area">
          <div class="accent-bar"></div>
          <h2>Hands-on: Nginx como Proxy Reverso com Docker</h2>
        </div>

        <div class="exercise-container">
          <h3>üéØ Objetivo</h3>
          <p>Configurar o Nginx como proxy reverso para rotear requisi√ß√µes para duas APIs diferentes rodando em containers Docker.</p>

          <ol class="exercise-steps">
            <li>Crie uma pasta <code>exercicio-gateway</code> e dentro dela crie o <code>docker-compose.yml</code></li>
            <li>Configure dois servi√ßos simples usando a imagem <code>hashicorp/http-echo</code>: um retornando "Servi√ßo A" na porta 5001 e outro "Servi√ßo B" na porta 5002</li>
            <li>Crie o arquivo <code>nginx.conf</code> com rotas: <code>/servico-a</code> ‚Üí container A e <code>/servico-b</code> ‚Üí container B</li>
            <li>Adicione o Nginx como servi√ßo no docker-compose, mapeando a porta 80 e montando o <code>nginx.conf</code></li>
            <li>Execute <code>docker compose up -d</code> e teste com <code>curl http://localhost/servico-a</code></li>
            <li><strong>Desafio:</strong> Adicione um header customizado <code>X-Gateway: fiap-proxy</code> nas respostas</li>
          </ol>
        </div>

        <div class="slide-footer">
          <div class="footer-bar">01 ‚Äì Revis√£o + API Gateway & Proxy Reverso</div>
          <div class="footer-page">18</div>
        </div>
      </section>

      <!-- ==================== SLIDE: SOLU√á√ÉO DOCKER-COMPOSE ==================== -->
      <section class="content-slide">
        <div class="top-bar"></div>
        <img src="../assets/img/fiap-logo-simple.png" alt="FIAP" class="fiap-logo-header">
        <div class="slide-title-area">
          <div class="accent-bar"></div>
          <h2>Solu√ß√£o: docker-compose.yml</h2>
        </div>

        <pre><code class="language-yaml">version: '3.8'
services:
  servico-a:
    image: hashicorp/http-echo
    command: ["-text=Resposta do Servi√ßo A", "-listen=:5001"]
    networks:
      - gateway-net

  servico-b:
    image: hashicorp/http-echo
    command: ["-text=Resposta do Servi√ßo B", "-listen=:5002"]
    networks:
      - gateway-net

  nginx-gateway:
    image: nginx:alpine
    ports:
      - "80:80"
    volumes:
      - ./nginx.conf:/etc/nginx/conf.d/default.conf:ro
    depends_on:
      - servico-a
      - servico-b
    networks:
      - gateway-net

networks:
  gateway-net:
    driver: bridge</code></pre>

        <div class="slide-footer">
          <div class="footer-bar">01 ‚Äì Revis√£o + API Gateway & Proxy Reverso</div>
          <div class="footer-page">19</div>
        </div>
      </section>

      <!-- ==================== SLIDE: SOLU√á√ÉO NGINX.CONF ==================== -->
      <section class="content-slide">
        <div class="top-bar"></div>
        <img src="../assets/img/fiap-logo-simple.png" alt="FIAP" class="fiap-logo-header">
        <div class="slide-title-area">
          <div class="accent-bar"></div>
          <h2>Solu√ß√£o: nginx.conf</h2>
        </div>

        <pre><code class="language-nginx">upstream servico_a {
    server servico-a:5001;
}

upstream servico_b {
    server servico-b:5002;
}

server {
    listen 80;

    # Header customizado em todas as respostas (desafio)
    add_header X-Gateway "fiap-proxy" always;

    location /servico-a {
        proxy_pass http://servico_a/;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }

    location /servico-b {
        proxy_pass http://servico_b/;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }
}</code></pre>

        <div class="callout">
          <p><strong>Teste:</strong> <code>curl -i http://localhost/servico-a</code> ‚Äî observe o header <code>X-Gateway: fiap-proxy</code> na resposta!</p>
        </div>

        <div class="slide-footer">
          <div class="footer-bar">01 ‚Äì Revis√£o + API Gateway & Proxy Reverso</div>
          <div class="footer-page">20</div>
        </div>
      </section>

      <!-- ==================== SLIDE: QUIZ 1 ==================== -->
      <section class="quiz-slide content-slide">
        <div class="top-bar"></div>
        <img src="../assets/img/fiap-logo-simple.png" alt="FIAP" class="fiap-logo-header">
        <div class="slide-title-area">
          <div class="accent-bar"></div>
          <h2>Quiz</h2>
        </div>

        <div class="quiz-container">
          <div class="quiz-question">Qual √© a principal diferen√ßa entre um Proxy Direto (Forward Proxy) e um Proxy Reverso (Reverse Proxy)?</div>
          <ul class="quiz-options">
            <li data-correct="false">
              <span class="option-letter">A</span>
              O Proxy Direto √© mais r√°pido que o Proxy Reverso
            </li>
            <li data-correct="false">
              <span class="option-letter">B</span>
              O Proxy Reverso s√≥ funciona com HTTPS, enquanto o Direto funciona com HTTP
            </li>
            <li data-correct="true">
              <span class="option-letter">C</span>
              O Proxy Direto protege o cliente, enquanto o Proxy Reverso protege os servidores
            </li>
            <li data-correct="false">
              <span class="option-letter">D</span>
              N√£o h√° diferen√ßa ‚Äî s√£o apenas nomes diferentes para a mesma tecnologia
            </li>
          </ul>
          <div class="quiz-feedback"
               data-correct-msg="O Forward Proxy fica entre o cliente e a internet (protege o cliente), enquanto o Reverse Proxy fica entre a internet e os servidores (protege os servidores)."
               data-incorrect-msg="A diferen√ßa fundamental est√° na posi√ß√£o: Forward Proxy protege o cliente (ex.: VPN corporativa), Reverse Proxy protege os servidores (ex.: Nginx na frente de microsservi√ßos).">
          </div>
        </div>

        <div class="slide-footer">
          <div class="footer-bar">01 ‚Äì Revis√£o + API Gateway & Proxy Reverso</div>
          <div class="footer-page">21</div>
        </div>
      </section>

      <!-- ==================== SLIDE: QUIZ 2 ==================== -->
      <section class="quiz-slide content-slide">
        <div class="top-bar"></div>
        <img src="../assets/img/fiap-logo-simple.png" alt="FIAP" class="fiap-logo-header">
        <div class="slide-title-area">
          <div class="accent-bar"></div>
          <h2>Quiz</h2>
        </div>

        <div class="quiz-container">
          <div class="quiz-question">Em uma arquitetura de microsservi√ßos, qual N√ÉO √© uma responsabilidade t√≠pica de um API Gateway?</div>
          <ul class="quiz-options">
            <li data-correct="false">
              <span class="option-letter">A</span>
              Roteamento de requisi√ß√µes para o servi√ßo correto
            </li>
            <li data-correct="true">
              <span class="option-letter">B</span>
              Executar a l√≥gica de neg√≥cio dos microsservi√ßos
            </li>
            <li data-correct="false">
              <span class="option-letter">C</span>
              Rate Limiting e Throttling
            </li>
            <li data-correct="false">
              <span class="option-letter">D</span>
              Autentica√ß√£o e valida√ß√£o de tokens
            </li>
          </ul>
          <div class="quiz-feedback"
               data-correct-msg="O API Gateway √© respons√°vel por cross-cutting concerns (roteamento, auth, rate limiting). A l√≥gica de neg√≥cio deve permanecer nos microsservi√ßos ‚Äî o gateway n√£o deve se tornar um 'monolito inteligente'."
               data-incorrect-msg="Cuidado! O API Gateway N√ÉO deve conter l√≥gica de neg√≥cio. Ele cuida de roteamento, autentica√ß√£o, rate limiting e logging. A l√≥gica de neg√≥cio pertence aos microsservi√ßos.">
          </div>
        </div>

        <div class="slide-footer">
          <div class="footer-bar">01 ‚Äì Revis√£o + API Gateway & Proxy Reverso</div>
          <div class="footer-page">22</div>
        </div>
      </section>

      <!-- ==================== SLIDE: HOMEWORK ==================== -->
      <section class="content-slide">
        <div class="top-bar"></div>
        <img src="../assets/img/fiap-logo-simple.png" alt="FIAP" class="fiap-logo-header">
        <div class="slide-title-area">
          <div class="accent-bar"></div>
          <h2>Para a pr√≥xima aula</h2>
        </div>

        <div class="concept-cards">
          <div class="concept-card">
            <h4>üìñ Leitura</h4>
            <p>Pesquisar sobre algoritmos de Load Balancing: Round Robin, Least Connections, IP Hash, Weighted</p>
          </div>
          <div class="concept-card">
            <h4>üíª Pr√°tica</h4>
            <p>Adicionar um terceiro servi√ßo (Servi√ßo C) ao exerc√≠cio de hoje e configurar a rota no Nginx</p>
          </div>
        </div>

        <div class="callout">
          <p><strong>Pr√≥xima aula (24/02):</strong> Load Balancer, Rate Limiting & Throttling ‚Äî vamos escalar o exerc√≠cio de hoje com m√∫ltiplas inst√¢ncias e distribui√ß√£o de carga.</p>
        </div>

        <div class="slide-footer">
          <div class="footer-bar">01 ‚Äì Revis√£o + API Gateway & Proxy Reverso</div>
          <div class="footer-page">23</div>
        </div>
      </section>

      <!-- ==================== SLIDE: FIM ==================== -->
      <section class="content-slide">
        <div class="top-bar"></div>
        <img src="../assets/img/fiap-logo-simple.png" alt="FIAP" class="fiap-logo-header">
        <div class="slide-title-area">
          <div class="accent-bar"></div>
          <h2>D√∫vidas ou curiosidades?</h2>
        </div>

        <div style="display:flex; align-items:center; justify-content:center; flex:1; font-size:4em; color: var(--fiap-dark); font-weight:800; opacity:0.15; margin-top:40px;">
          ?
        </div>

        <div class="slide-footer">
          <div class="footer-bar">01 ‚Äì Revis√£o + API Gateway & Proxy Reverso</div>
          <div class="footer-page">24</div>
        </div>
      </section>

      <!-- ==================== SLIDE: ENCERRAMENTO ==================== -->
      <section class="end-slide">
        <img src="../assets/img/fiap-logo-graduacao.png" alt="FIAP Gradua√ß√£o" style="max-width:350px;">
        <div class="copyright">
          Copyright &copy; 2026<br>
          Prof.¬∫ Jos√© Romualdo da Costa Filho<br><br>
          Todos direitos reservados. Reprodu√ß√£o ou divulga√ß√£o total ou parcial<br>
          deste documento √© expressamente proibido sem o consentimento formal,<br>
          por escrito, do Professor (autor).
        </div>
      </section>

    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/reveal.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/plugin/highlight/highlight.js"></script>
  <script src="../assets/js/fiap-quiz.js"></script>
  <script>
    Reveal.initialize({
      hash: true,
      slideNumber: false,
      width: 1280,
      height: 720,
      margin: 0,
      minScale: 0.2,
      maxScale: 2.0,
      center: false,
      transition: 'slide',
      transitionSpeed: 'default',
      scrollActivationWidth: null,
      view: null,
      plugins: [RevealHighlight]
    });
  </script>
</body>
</html>
